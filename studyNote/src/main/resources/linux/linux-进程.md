# 进程
* 进程&程序
    * 进程
        * 运行着的程序，有pid是与程序的主要区别
    * 程序
        * 是一段代码
* 进程-PCB
    * linux操作系统在运行一个程序时，会虚拟0-4G地址空间
        * 0-3G是用户空间，每个进程单独占有
        * 3G-4G是内核空间，多个进程共享
    * linux操作系统为管理进程，会为每个进程创建一个PCB(process control block)
        * PCB数据保存在内核空间
        * 保存的数据有
            * PID
            * 进程状态
            * 进程切换时需要保存/恢复的cpu寄存器
* linux-进程切换:  
    * cpu运行多进程采用了分时复用的原则，看起来像并行，但实际在某个时间点，一个cpu只在运行一个进程
    * cpu架构
        * 预取器
            * 从内存中获取机器指令
        * 译码器
            * 解析机器指令
        * 运算器
            * 对指令设计的寄存器中的数值进行计算
            * 支持加法、减法、位移
        * 寄存器
            * 数据暂存的地方
        * 执行顺序
            * 预取器从内存中获取指令->译码器解释指令->运算器从寄存器中取值运算再写回到寄存器中
    * 每次进程切换的时候，要将当前寄存器中的内容，保存到当前进程的PCB中;从被调度的PCB中，取出寄存器的内容，恢复现场
    > 当频繁进程切换的时候，cpu浪费在寄存器恢复/保存上的时间越来越长，浪费明显  
    执行vmstat 1 100，注意观察cs的值
* 虚拟内存/多核心/多cpu/超线程
    * 
*  参考资料
    * [猿码道](https://www.jianshu.com/p/5549e89133d2)
    * [linux虚拟内存](https://blog.csdn.net/ZYZMZM_/article/details/87893543)