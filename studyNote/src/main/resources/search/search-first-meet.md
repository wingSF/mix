# search
* 正排索引 & 倒排索引
    * 正排索引
        * 根据主键id，查看其它列信息
        * example
        
        |id|name|address|
        |:--|:----|:-------|
        |1|wing|中国山西吕梁|
        |2|lynne|中国山西大同|
            
    * 倒排索引
        * 根据列信息，查询主键id，获取其它列的信息
        * example
       
        |address|id|
        |:--|:----|
        |中|1,2|
        |国|1,2|
        |吕|1|
        |梁|1|
    > 倒排索引经常会对列进行分词，然后根据分词结果建立倒排索引。当查询“中国”时，会分词查询“中”和“国”的结果，然后再俩个集合中求交集得到最终答案  
    注：求交集的办法，转向[这里](https://mp.weixin.qq.com/s?__biz=MjM5ODYxMDA5OQ==&mid=2651962107&idx=1&sn=2704e234ccace7e3163dc7dbb46ca2e6)
* 搜索业务的发展历程
    * 原始阶段-like
    * mysql-myisam-全文检索
    * 索引-数据分离，使用ES/Solr/Lucene等开源方案
    * 自研索引，进程内完成数据检索
        * 注意事项
            * 对外提供服务的tps可以通过水平扩容等比提升
            * 高可用、数据互备机制
        * 一些实用的设计思想
            * 索引分级
                * 全量数据/月数据/周数据/天数据/小时数据
                * 根据业务的要求，从多个索引库中取数据，进行结果合并，当发生数据变更的时候，只修改部分索引库，后续通过定时任务再合并
                